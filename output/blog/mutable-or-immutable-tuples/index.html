<!doctype html><html lang=en><script async src=https://www.googletagmanager.com/gtag/js?id=G-CYPVPEJ4PK></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-CYPVPEJ4PK')</script><meta charset=utf-8><meta content=width=device-width,initial-scale=1 name=viewport><title>Mutable or Immutable Tuples | Python For The Lab</title><meta content="Data, Types, Mutable, Immutable, Tuples, " name=tags><meta content="Understanding how tuples, which are immutable, may seem to change." name=description><meta content="Aquiles Carattino" name=author><link href=blog/mutable-or-immutable-tuples rel=canonical><meta content="Python for the Lab" property=og:site_name><meta content=article property=og:type><meta content=blog/mutable-or-immutable-tuples property=og:url><meta content="Mutable or Immutable Tuples" property=og:title><meta content="Understanding how tuples, which are immutable, may seem to change." property=og:description><meta content=/images/michal-pechardo-502908-unsplash_linkedin.width-800.jpg property=og:image><meta content=summary_large_image property=twitter:card><meta content=blog/mutable-or-immutable-tuples property=twitter:url><meta content="Mutable or Immutable Tuples" property=twitter:title><meta content="Understanding how tuples, which are immutable, may seem to change." property=twitter:description><meta content=/images/michal-pechardo-502908-unsplash_linkedin.width-800.jpg property=twitter:image><meta content=@aquicarattino name=twitter:creator><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-57x57.png rel=apple-touch-icon sizes=57x57><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-60x60.png rel=apple-touch-icon sizes=60x60><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-72x72.png rel=apple-touch-icon sizes=72x72><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-76x76.png rel=apple-touch-icon sizes=76x76><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-114x114.png rel=apple-touch-icon sizes=114x114><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-120x120.png rel=apple-touch-icon sizes=120x120><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-144x144.png rel=apple-touch-icon sizes=144x144><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-152x152.png rel=apple-touch-icon sizes=152x152><link href=https://pythonforthelab.com/theme/css/favicon/apple-icon-180x180.png rel=apple-touch-icon sizes=180x180><link href=https://pythonforthelab.com/theme/css/favicon/android-icon-192x192.png rel=icon sizes=192x192 type=image/png><link href=https://pythonforthelab.com/theme/css/favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://pythonforthelab.com/theme/css/favicon/favicon-96x96.png rel=icon sizes=96x96 type=image/png><link href=https://pythonforthelab.com/theme/css/favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://pythonforthelab.com/theme/css/favicon/manifest.json rel=manifest><meta content=#ffffff name=msapplication-TileColor><meta content=https://pythonforthelab.com/theme/css/favicon/ms-icon-144x144.png name=msapplication-TileImage><meta content=#ffffff name=theme-color><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;700&display=swap rel=stylesheet><link href=https://pythonforthelab.com/theme/css/style.css rel=stylesheet><link href=https://files.stork-search.net/basic.css rel=stylesheet><link href=https://https://pythonforthelab.com/feed.rss rel=alternate title=RSS type=application/rss+xml><script src=https://code.jquery.com/jquery-3.4.1.min.js></script><script src=https://pythonforthelab.com/theme/js/jquery-migrate-1.2.1.js></script><script src=https://pythonforthelab.com/theme/js/functions.js></script><link href=https://pythonforthelab.com/theme/css/prism.css rel=stylesheet><body><section class=wrapper><div class="intro blog article"><div class=container><div class=header><a class=logo href=/>Python for the Lab</a><div class=header-dd><div class=navigation><ul><li class=active><a class="nav-item blog" href=https://pythonforthelab.com/blog><span>Blog</span></a><li><a class="nav-item courses" href=https://pythonforthelab.com/courses/><span>Courses</span></a><li><a class="nav-item hire-me" href=https://pythonforthelab.com/hire-me/><span>Hire Me</span></a><li><a class="nav-item forum" href=https://github.com/PFTL/pftl_discussions/discussions target=_blank><span>Forum</span></a><li><a class="nav-item books" href=https://pythonforthelab.com/books><span>Books</span></a><li><a class="nav-item about" href=https://pythonforthelab.com/about><span>About</span></a></ul></div><div class="search field-wp"><form action=#><input placeholder="Type to Search" class=field data-stork=sitesearch><input class=search-btn type=submit></form><div data-stork=sitesearch-output></div></div></div><button class=menu-btn><span>Menu</span></button></div><div class="intro-cnt v-article"><div class=side-text></div><div class="side-form small-sb-form"><div class=sb-form id=mc_embed_signup><h4>Get all the information directly to your inbox</h4><form action=https://pythonforthelab.us21.list-manage.com/subscribe/post?u=f0d9bfa6188cdcc67890a07f6&id=8a0ca536e8&f_id=00dfebe6f0 class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate><div class=field-wp id=mc_embed_signup_scroll><input placeholder="Your E-Mail" class=field id=mce-EMAIL name=EMAIL required type=email></div><div aria-hidden=true style=position:absolute;left:-5000px>/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */ <input name=b_f0d9bfa6188cdcc67890a07f6_8a0ca536e8 tabindex=-1></div><input value="Subscribe to the Newsletter" class=send-btn id=mc-embedded-subscribe name=subscribe type=submit><span class=small-text>Get relevant information, unsubscribe at any time.</span></form></div></div></div></div></div><div class=main><div class=container><div class=article-cnt><div class=leftside><div class=article-image><img alt src=https://pythonforthelab.com//images/michal-pechardo-502908-unsplash_linkedin.width-800.jpg width=800></div><h1>Mutable or Immutable Tuples</h1><h3>Understanding how tuples, which are immutable, may seem to change.</h3><div class=info><span class="item-1 author">by Aquiles Carattino</span><span class="item-1 date">2018-08-24</span><span class="item-tag first">Data</span><span class=item-tag>Types</span><span class=item-tag>Mutable</span><span class=item-tag>Immutable</span><span class=item-tag>Tuples</span></div><main><p>Broadly speaking, Python variables belong to one of two types: <strong>mutable</strong> and <strong>immutable</strong>. We have discussed this yesterday, in the <a href=https://pythonforthelab.com/blog/mutable-and-immutable-objects>Introduction To Mutable and Immutable Data Types</a>. The first one refers to those elements that can be changed without the need of creating a new one, while the latter refers to those that cannot be changed after instantiation. A paradigmatic example of immutable objects is tuples. However, as we are going to see in this article, tuples may seem to change.<p>You define a tuple by using <code>()</code>, and access its elements using <code>[]</code>, for example:<pre><code class=language-pycon>>>> var1 = (1, 2, 3)
>>> var[0]
1
</code></pre><p>Since a tuple is immutable, you can't change its elements once it was created, the following will give you an error:<pre><code class=language-pycon>>>> var[0] = 0
Traceback (most recent call last):
  File "&LTstdin>", line 1, in &LTmodule>
TypeError: 'tuple' object does not support item assignment
</code></pre><p>Tuples are not limited to hold numbers in them, nor to elements of the same type. We can create a tuple that holds both numbers and a list:<pre><code class=language-pycon>>>> my_list = [1, 2, 3]
>>> var = (1, my_list)
>>> var[1]
[1, 2, 3]
</code></pre><p>What happens if you try to change the value of one of the elements of the list?<pre><code class=language-pycon>>>> var[1][0] = 0
</code></pre><p>As you know, tuples are immutable, and what you are doing is changing a tuple. However, no error will appear. The operation above works as expected:<blockquote><p>>>> var[1] [0, 2, 3]</blockquote><p>If you try to change <code>var[0]</code>, which is an integer, you will face the same exception that was shown above. So, what is happening? <a href=https://standupdev.com/wiki/doku.php?id=python_tuples_are_immutable_but_may_change>Luciano Ramalho</a> has written an excellent article with an example from Alice in Wonderland, which I am not going to copy here, but that has deeply inspired me.<p>If you think variables as labels and not as boxes in which information is stored, you can also think that what is stored in the tuple are references to the objects and not the objects themselves. When you change a list, its identity doesn't change, for example:<pre><code class=language-pycon>>>> var = [1, 2, 3]
>>> id(var)
44045192
>>> var[0] = 0
>>> id(var)
44045192
</code></pre><p>A tuple is basically holding a reference to different objects. While that reference doesn't change, the tuple will not change. The identity of the list that is stored in the tuple does not change when we change a value in a list or we append new elements, etc. This is not true for other immutable data types, like integers. That is why, if we try to change the value of an integer, an exception will be raised. A new object is created and therefore the reference that is being stored in the tuple needs to be updated.<p>This also works when you use two different names for the same tuple. For example:<pre><code class=language-pycon>>>> var1 = (1, my_list)
>>> var2 = var1
>>> var1 is var2
True
>>> var2[1] is my_list
True
</code></pre><p>If we update the values of the list in any way, they will be changed in all the other variables:<pre><code class=language-pycon>>>> var1[1][0] = 0
>>> my_list
[0, 2, 3]
>>> var2[1]
[0, 2, 3]
>>> my_list[0] = 1
>>> var1[1]
[1, 2, 3]
</code></pre><p>Now you see that we have three labels for the same list, and if we update any of them, all the others will reflect these changes. For example, you could create a new variable for the list:<pre><code class=language-pycon>>>> var1 = (1, [1, 2, 3])
>>> my_list = var1[1]
>>> print(my_list)
[1, 2, 3]
>>> my_list[0] = 0
>>> var1
(1, [0, 2, 3])
</code></pre><p>A lot of possibilities appear when you start playing around. However, your code has to be very well structured and explained if you plan to keep it maintainable.<h2>Tuples as Dictionary Keys</h2><p>In principle, any immutable variable can be used as a dictionary key. Therefore, it is possible to also use tuples. For example:<pre><code class=language-pycon>>>> var1 = (1, 2)
>>> var2 = (4, 5)
>>> var3 = {var1: 'First Var',
...     var2: 'Second Var'}
>>> print(var3[1, 2])
First Var
</code></pre><p>However, if you generate a tuple that contains a reference to a mutable object, the code above will fail:<pre><code class=language-pycon>>>> var4 = (1, [1, 2, 3])
>>> var5 = {var1: 'First Var',
...     var4: 'Second Var'}

TypeError: unhashable type: 'list'
</code></pre><p>The keys of dictionaries have to be immutable, and they must reference objects that are also immutable. Therefore, even if the tuple is immutable, their elements may not be. You have to be careful when using a tuple as key to a dictionary since it will not always work.<div class="admonition note"><p class=admonition-title>Note<p>actually, keys in dictionaries need to be hashable, which is not the same as immutable. Custom defined classes are hashable but mutable and can be used as dictionary keys. We are going to discuss this in a later article.</div><h2>Conclusions</h2><p>This is a short article triggered by some comments that appear on the <a href=https://pythonforthelab.com/blog/mutable-and-immutable-objects>discussion about mutable and immutable types</a>. Wrapping your mind around this level of details may be hard at the beginning, but when you know these differences exist, you will be able to make better code, less prone to bugs. You may also start realizing why so many packages use tuples as default arguments instead of lists, etc.<p>Header photo by <a href=https://unsplash.com/photos/O6XDQCNo4Hc?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText>Michal Pechardo</a> on Unsplash</main><div class=info-list><span class="item author">Article written by Aquiles Carattino</span></div><div class=similar-posts><h3>Related Articles:</h3><ul><li><a class=item href=https://pythonforthelab.com/blog/mutable-and-immutable-attributes-of-classes> <img alt src=/images/dan-gold-382057-unsplash_linkedin.width-800.jpg> <span class=date>2018-08-24</span> <span class=name>Mutable and Immutable Attributes of Classes</span> </a><li><a class=item href=https://pythonforthelab.com/blog/mutable-and-immutable-objects> <img alt src=/images/rawpixel-274862-unsplash_linkedin.width-800.jpg> <span class=date>2018-08-23</span> <span class=name>Mutable and Immutable Objects</span> </a><li><a class=item href=https://pythonforthelab.com/blog/deep-and-shallow-copies-of-objects> <img alt src=/images/rebecca-georgia-269933-unsplash_linkedin.width-800.jpg> <span class=date>2019-02-04</span> <span class=name>Deep and Shallow Copies of Objects</span> </a></ul></div><div class=bottom-section><h4>Share your thoughts with us!</h4><div class=comments><script async crossorigin issue-term=pathname label=Comment repo=PFTL/pftl_discussions src=https://utteranc.es/client.js theme=github-light></script></div></div></div><div class=rightside><div class=support-box><h3>Support Us</h3><p>If you like the content of this website, consider buying a copy of the book <strong>Python For The Lab</strong></p><a class=button href=https://pythonforthelab.com/books>Check out the book</a></div><div class=latest-posts><h3>Latest Articles</h3><ul><li><a href=https://pythonforthelab.com/blog/instructions-to-build-the-python-for-the-lab-daq/>Instructions to build the Python for the Lab DAQ.</a> <span>by Aquiles Carattino, 2021-03-27</span><li><a href=https://pythonforthelab.com/blog/using-slots-in-python-limit-dynamic-attribute-creation-and-improve-speed>Using slots in Python: limit dynamic attribute creation and improve speed</a> <span>by Aquiles Carattino, 2021-03-21</span><li><a href=https://pythonforthelab.com/blog/getting-started-with-basler-cameras>Acquiring images from Basler Cameras</a> <span>by Aquiles Carattino, 2021-02-27</span><li><a href=https://pythonforthelab.com/blog/singletons-instantiate-objects-only-once>Singletons: Instantiate objects only once</a> <span>by Aquiles Carattino, 2021-01-16</span><li><a href=https://pythonforthelab.com/blog/differences-between-multiprocessing-windows-and-linux>Differences of Multiprocessing on Windows and Linux</a> <span>by Aquiles Carattino, 2020-06-13</span><li><a href=https://pythonforthelab.com/blog/python-tip-using-else-loops>Python Tip: Using Else with Loops</a> <span>by Aquiles Carattino, 2020-05-25</span><li><a href=https://pythonforthelab.com/blog/python-tip-ready-publish-matplotlib-figures>Python Tip: Ready to Publish Matplotlib Figures</a> <span>by Aquiles Carattino, 2020-05-18</span><li><a href=https://pythonforthelab.com/blog/data-descriptors-bringing-attributes-next-level>Data Descriptors: Bringing Attributes to the Next level</a> <span>by Aquiles Carattino, 2020-05-16</span><li><a href=https://pythonforthelab.com/blog/python-tips-using-sets>Python Tips: Using Sets</a> <span>by Aquiles Carattino, 2020-05-11</span><li><a href=https://pythonforthelab.com/blog/generators-iterables-iterators-python-when-and-where>Generators, Iterables, Iterators in Python: When and Where</a> <span>by Aquiles Carattino, 2020-04-10</span></ul></div><div class=subscribe-fixed><button class=action>Never Stop Learning</button><div class=cnt><p>Join over 1000 Python developers and don't miss any updates!<form action=https://pythonforthelab.us21.list-manage.com/subscribe/post?u=f0d9bfa6188cdcc67890a07f6&id=8a0ca536e8&f_id=00dfebe6f0 class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate><div class=field-wp id=mc_embed_signup><input class="field required email" placeholder="Your E-Mail" id=mce-EMAIL name=EMAIL required type=email></div><div class="clear foot" id=mce-responses><div class=response id=mce-error-response style=display:none></div><div class=response id=mce-success-response style=display:none></div></div><div aria-hidden=true style=position:absolute;left:-5000px>/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */ <input name=b_f0d9bfa6188cdcc67890a07f6_8a0ca536e8 tabindex=-1></div><input value="Subscribe to the Newsletter" class=send-btn id=mc-embedded-subscribe name=subscribe type=submit></form><p>Or check out our <a href=/books>books</a>! <br> <a href=#>Privacy Policy</a></div></div></div></div><div class=mobile-sb-form><div class=sb-form><h4>Get all the information directly to your inbox</h4><form action=https://pythonforthelab.us21.list-manage.com/subscribe/post?u=f0d9bfa6188cdcc67890a07f6&id=8a0ca536e8&f_id=00dfebe6f0 class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate><div class=field-wp id=mc_embed_signup><input class="field required email" placeholder="Your E-Mail" id=mce-EMAIL name=EMAIL required type=email></div><div class="clear foot" id=mce-responses><div class=response id=mce-error-response style=display:none></div><div class=response id=mce-success-response style=display:none></div></div><div aria-hidden=true style=position:absolute;left:-5000px>/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */ <input name=b_f0d9bfa6188cdcc67890a07f6_8a0ca536e8 tabindex=-1></div><input value="Subscribe to the Newsletter" class=send-btn id=mc-embedded-subscribe name=subscribe type=submit></form></div></div></div></div></section><div class=footer><div class=container><div class=footer-cnt><p class=left>© Python For The Lab <span class=current-year>2023</span><p class=center><a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ rel=license> <img alt="Creative Commons License" src=https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png style=border:0></a>.<p class=right><a href=https://pythonforthelab.com/cookie-policy>Cookie Policy</a> <a href=https://pythonforthelab.com/privacy-policy>Privacy Policy</a></div></div></div><script src=https://pythonforthelab.com/theme/js/prism.js></script><script src=https://files.stork-search.net/releases/v1.5.0/stork.js></script><script>stork.register("sitesearch","https://pythonforthelab.com/search-index.st")</script>