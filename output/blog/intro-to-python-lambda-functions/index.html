<!doctype html><html lang=en><script async src=https://www.googletagmanager.com/gtag/js?id=G-CYPVPEJ4PK></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-CYPVPEJ4PK')</script><meta charset=utf-8><meta content=width=device-width,initial-scale=1 name=viewport><title>Introduction to Python Lambda Functions | Python For The Lab</title><meta content="functions, methods, arguments, packing, unpacking, args, kwargs, " name=tags><meta content="Anonymous functions are powerful, but they are hard to understand" name=description><meta content="Aquiles Carattino" name=author><link href=blog/intro-to-python-lambda-functions rel=canonical><meta content="Python for the Lab" property=og:site_name><meta content=article property=og:type><meta content=blog/intro-to-python-lambda-functions property=og:url><meta content="Introduction to Python Lambda Functions" property=og:title><meta content="Anonymous functions are powerful, but they are hard to understand" property=og:description><meta content=/images/ivana-cajina-324103-unsplash_linkedin.width-800.jpg property=og:image><meta content=summary_large_image property=twitter:card><meta content=blog/intro-to-python-lambda-functions property=twitter:url><meta content="Introduction to Python Lambda Functions" property=twitter:title><meta content="Anonymous functions are powerful, but they are hard to understand" property=twitter:description><meta content=/images/ivana-cajina-324103-unsplash_linkedin.width-800.jpg property=twitter:image><meta content=@aquicarattino name=twitter:creator><link href=http://localhost:8000/theme/css/favicon/apple-icon-57x57.png rel=apple-touch-icon sizes=57x57><link href=http://localhost:8000/theme/css/favicon/apple-icon-60x60.png rel=apple-touch-icon sizes=60x60><link href=http://localhost:8000/theme/css/favicon/apple-icon-72x72.png rel=apple-touch-icon sizes=72x72><link href=http://localhost:8000/theme/css/favicon/apple-icon-76x76.png rel=apple-touch-icon sizes=76x76><link href=http://localhost:8000/theme/css/favicon/apple-icon-114x114.png rel=apple-touch-icon sizes=114x114><link href=http://localhost:8000/theme/css/favicon/apple-icon-120x120.png rel=apple-touch-icon sizes=120x120><link href=http://localhost:8000/theme/css/favicon/apple-icon-144x144.png rel=apple-touch-icon sizes=144x144><link href=http://localhost:8000/theme/css/favicon/apple-icon-152x152.png rel=apple-touch-icon sizes=152x152><link href=http://localhost:8000/theme/css/favicon/apple-icon-180x180.png rel=apple-touch-icon sizes=180x180><link href=http://localhost:8000/theme/css/favicon/android-icon-192x192.png rel=icon sizes=192x192 type=image/png><link href=http://localhost:8000/theme/css/favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=http://localhost:8000/theme/css/favicon/favicon-96x96.png rel=icon sizes=96x96 type=image/png><link href=http://localhost:8000/theme/css/favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=http://localhost:8000/theme/css/favicon/manifest.json rel=manifest><meta content=#ffffff name=msapplication-TileColor><meta content=http://localhost:8000/theme/css/favicon/ms-icon-144x144.png name=msapplication-TileImage><meta content=#ffffff name=theme-color><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;700&display=swap rel=stylesheet><link href=http://localhost:8000/theme/css/style.css rel=stylesheet><link href=https://files.stork-search.net/basic.css rel=stylesheet><link href=https://http://localhost:8000/feed.rss rel=alternate title=RSS type=application/rss+xml><script src=https://code.jquery.com/jquery-3.4.1.min.js></script><script src=http://localhost:8000/theme/js/jquery-migrate-1.2.1.js></script><script src=http://localhost:8000/theme/js/functions.js></script><link href=http://localhost:8000/theme/css/prism.css rel=stylesheet><body><section class=wrapper><div class="intro blog article"><div class=container><div class=header><a class=logo href=/>Python for the Lab</a><div class=header-dd><div class=navigation><ul><li class=active><a class="nav-item blog" href=http://localhost:8000/blog><span>Blog</span></a><li><a class="nav-item hire-me" href=http://localhost:8000/hire-me/><span>Hire Me</span></a><li><a class="nav-item forum" href=https://github.com/PFTL/pftl_discussions/discussions target=_blank><span>Forum</span></a><li><a class="nav-item books" href=http://localhost:8000/books><span>Books</span></a><li><a class="nav-item about" href=http://localhost:8000/about><span>About</span></a></ul></div><div class="search field-wp"><form action=#><input placeholder="Type to Search" class=field data-stork=sitesearch><input class=search-btn type=submit></form><div data-stork=sitesearch-output></div></div></div><button class=menu-btn><span>Menu</span></button></div><div class="intro-cnt v-article"><div class=side-text></div><div class="side-form small-sb-form"><div class=sb-form id=mc_embed_signup><h4>Get all the information directly to your inbox</h4><form action=https://pythonforthelab.us21.list-manage.com/subscribe/post?u=f0d9bfa6188cdcc67890a07f6&id=8a0ca536e8&f_id=00dfebe6f0 class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate><div class=field-wp id=mc_embed_signup_scroll><input placeholder="Your E-Mail" class=field id=mce-EMAIL name=EMAIL required type=email></div><div aria-hidden=true style=position:absolute;left:-5000px>/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */ <input name=b_f0d9bfa6188cdcc67890a07f6_8a0ca536e8 tabindex=-1></div><input value="Subscribe to the Newsletter" class=send-btn id=mc-embedded-subscribe name=subscribe type=submit><span class=small-text>Get relevant information, unsubscribe at any time.</span></form></div></div></div></div></div><div class=main><div class=container><div class=article-cnt><div class=leftside><div class=article-image><img alt src=http://localhost:8000//images/ivana-cajina-324103-unsplash_linkedin.width-800.jpg width=800></div><h1>Introduction to Python Lambda Functions</h1><h3>Anonymous functions are powerful, but they are hard to understand</h3><div class=info><span class="item-1 author">by Aquiles Carattino</span><span class="item-1 date">2019-03-17</span><span class="item-tag first">functions</span><span class=item-tag>methods</span><span class=item-tag>arguments</span><span class=item-tag>packing</span><span class=item-tag>unpacking</span><span class=item-tag>args</span><span class=item-tag>kwargs</span></div><main><p>Some time ago, Python introduced in its syntax the possibility to define functions using <code>lambda</code> instead of <code>def</code>. These functions are called anonymous and are very common in other languages such as Javascript. However, in Python, they seem a bit obscure and are often either overlooked or misused. In this article, we are going to introduce the lambda functions and discuss where and how to use it.<p>To define a function, you can use the following syntax:<pre><code class=language-python>def average(x, y):
    return (x+y)/2
</code></pre><p>Then, if you would like to calculate the average of two numbers, you can simply do:<pre><code class=language-python>avg = average(2, 5)
</code></pre><p>In such case, <code>avg</code> would have a value of <code>3.5</code>. We could also define <code>average</code> like this:<pre><code class=language-python>average = lambda x, y: (x+y)/2
</code></pre><p>If you test this function, you will see that the output is exactly the same. It is important to point out that the syntax is very different between <code>def</code> and <code>lambda</code>. First, we define the arguments <code>x</code> and <code>y</code> without any parenthesis. Then, we define the operation that we want to apply. Note that the <code>return</code> is implicit when you use a lambda function.<p>There are, however, more fundamental differences. Lambda functions must be expressed on only one line, and they have no docstring. If you try <code>help(average)</code> on each definition above, you will see that the output is very different. Moreover, there is no way of documenting what the second version of <code>average</code> is actually doing.<p>Functionally speaking, both ways of defining <code>average</code> give the same result. So far, the difference between them is very subtle. The main advantage of <em>lambda</em> (or anonymous) functions is that they don't need a name. Moreover, assigning a name like what we did above is considered bad practice, as we will discuss later on. Let's now see in what context you would like to use a lambda function instead of a normal function.<p>Most tutorials focus on lambda functions for sorting a list. We can do the same before going to other topics. Imagine that you have the following list:<pre><code class=language-python>var = [1, 5, -2, 3, -7, 4]
</code></pre><p>Imagine you would like to sort the values, you can do:<pre><code class=language-python>sorted_var = sorted(var)
# [-7, -2, 1, 3, 4, 5]
</code></pre><p>That is easy enough. But what would happen if you would like to sort the values based on the distance to a given number? You need to apply a function to each number, such as <code>abs(x-1)</code> if you are computing the distance to 1, and sort the values based on the output. Fortunately <code>sorted</code> allows you to do that using the keyword argument <code>key=</code>. We could do:<pre><code class=language-python>def distance(x):
    return abs(x-1)

sorted_var = sorted(var, key=distance)
# [1, 3, -2, 4, 5, -7]
</code></pre><p>Another option would be to use a lambda function:<pre><code class=language-python>sorted_var = sorted(var, key=lambda x: abs(x-1))
</code></pre><p>Both examples are going to produce the exact same output. There is no functional difference between defining a function using <code>def</code> or using <code>lambda</code>. I can argue that the second example is slightly shorter than the first one. Also, it makes the code more readable, since you can immediately see what are you doing to each element (<code>abs(x-1)</code>) instead of digging through your code to see where <code>distance</code> was defined.<p>Another possibility is to use it in combination with <code>map</code>. Map is a way of applying a function to every element on a list. For example, based on the example above, we can do:<pre><code class=language-python>list(map(distance, var))
# [0, 4, 3, 2, 8, 3]
</code></pre><p>Or, using the lambda expressions:<pre><code class=language-python>list(map(lambda x: abs(x-1), var))
# [0, 4, 3, 2, 8, 3]
</code></pre><p>Which gives the exact same output and, again, one can argue which one is easier to read. The examples above are what you may see in other tutorials. Probably is what you will see if you go through StackOverflow. One of the possibilities is to use lambda functions in combination with Pandas.<h2>Pandas and Lambda Functions</h2><p>The example data was inspired by <a href=https://data36.com/pandas-tutorial-1-basics-reading-data-files-dataframes-data-selection/>this</a> example and can be found <a href=https://github.com/PFTL/website/blob/master/example_code/30_lambdas/example_data.csv>here</a>. Create a file <strong>example_data.csv</strong> with the following content:<pre><code class=language-csv>animal,uniq_id,water_need
elephant,1001,500
elephant,1002,600
elephant,1003,550
tiger,1004,300
tiger,1005,320
tiger,1006,330
tiger,1007,290
tiger,1008,310
zebra,1009,200
zebra,1010,220
zebra,1011,240
zebra,1012,230
zebra,1013,220
zebra,1014,100
zebra,1015,80
lion,1016,420
lion,1017,600
lion,1018,500
lion,1019,390
kangaroo,1020,410
kangaroo,1021,430
kangaroo,1022,410
</code></pre><p>To read the data as a DataFrame, we can simply do the following:<pre><code class=language-python>import pandas as pd

df = pd.read_csv('example_data.csv', delimiter = ',')
</code></pre><p>Imagine you would like to capitalize the first letter of each animal's name on the data frame, you can do:<pre><code class=language-python>df['animal'] = df['animal'].apply(lambda x: x.capitalize())
print(df.head())
</code></pre><p>And you will see the results. Of course, lambda functions can become much more complex. You can apply them to an entire series instead of single values, you can combine them with other libraries such as numpy or scipy and perform complex transformations to your data.<p>One of the biggest advantages of lambda functions is that if you are using Jupyter notebooks, you can see the changes right away. You don't need to open another file, run a different, cell, etc. If you go to the <a href=https://pandas.pydata.org/pandas-docs/version/0.22/generated/pandas.DataFrame.apply.html>Pandas documentation</a> you will see that lambdas are used quite often.<h2>Qt Slots</h2><p>Another common example of using lambdas is in combination with the Qt library. We have written an <a href=http://localhost:8000/blog/step-by-step-guide-to-building-a-gui>introductory article on Qt</a> in the past. Feel free to browse through it if you are not familiar with how building user interfaces work. A very minimal example, that just shows a button, it looks like this:<pre><code class=language-python>from PyQt5.QtWidgets import QApplication, QPushButton

app = QApplication([])

button = QPushButton('Press Me')
button.show()

app.exit(app.exec())
</code></pre><p>If you would like to trigger an action when pressing the button, that action has to be defined as a function. If we want to print something to screen when the button gets pressed, we can simply add the following line right before <code>app.exit</code>:<pre><code class=language-python>button.clicked.connect(lambda x: print('Pressed!'))
</code></pre><p>If you run the program again, every time you press the button you will see the <code>Pressed!</code> appearing on the screen. Again, using lambda functions as slots for signals can speed up your coding and make your programs easier to read. However, lambda functions also need to be considered with caution.<h2>Where to use lambda functions</h2><p>Lambda functions can only have 1 line. This forces developers to use them only in contexts where the behavior can be achieved without a complex syntax. In the examples above, you can see that the lambda functions are very simple. If it would have required to open a socket, exchange some information, process the received data, etc. probably it wouldn't have been possible to do it on a single line.<p>The natural scenario where lambda functions can be used is as arguments for other functions that require callables as arguments. For example, the <code>apply</code> of a Pandas Data Frame requires a function as an argument. Connecting signals in Qt also requires a function. If the function that we are going to apply or execute is simple, and we are not going to re-use it, writing it as an anonymous function may be a very convenient way.<h2>Where not to use lambda functions</h2><p>Lambda functions are anonymous, therefore, if you are assigning a name to them, such as when we did:<pre><code class=language-python>average = lambda x, y: (x+y)/2
</code></pre><p>It means there is something you are doing wrong. If you need to assign a name to the function, so you can use it in different places of your program, use the standard <code>def</code> syntax. There is a lengthy discussion on the abuse of lambda functions in Python <a href=https://treyhunner.com/2018/09/stop-writing-lambda-expressions/>on this blog</a>. The one that I have seen quite often, especially by people who have just learned about lambdas, is this:<pre><code class=language-python>sorted_var = sorted(var, key=lambda x: abs(x))
</code></pre><p>This innocent example may be hard to wrap around if it's the first time that you see lambda functions. But what you have is that you are wrapping a function (<code>abs</code>) within another function. It would be like doing:<pre><code class=language-python>def func(x):
    return abs(x)
</code></pre><p>What is the advantage compared to just doing <code>abs(x)</code>? Indeed, no advantage, this means that we can also sort a list like this:<pre><code class=language-python>sorted_var = sorted(var, key=abs)
</code></pre><p>If you pay attention to the example that we've developed earlier, we used <code>abs(x-1)</code> exactly to avoid this redundancy.<h2>Conclusions</h2><p>Lambda (or anonymous) functions are a tool that is slowly getting more popular in Python programs. That is why it is very important that you can understand what it means. You have to remember that there is nothing that the lambda syntax allows you to do that it wouldn't be possible to do without them. It is more a matter of convenience, syntax economy, and perhaps readability.<p>In other programming languages, such as JavaScript, anonymous functions are used very often and have a much richer syntax than in Python. I don't believe Python will head the same way, but in any case, they are a tool that can help you not only with your current programs but they can also help you understand what is going on if you ever tinker with other languages.<p>Header Photo by <a href=https://unsplash.com/photos/YkYcdn4EbDs?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText>Ivana Cajina</a> on Unsplash</main><div class=info-list><span class="item author">Article written by Aquiles Carattino</span></div><div class=similar-posts><h3>Related Articles:</h3><ul><li><a class=item href=http://localhost:8000/blog/what-are-args-and-kwargs-and-when-to-use-them> <img alt src=/images/luca-bravo-217276-unsplash_linkedin.width-800.jpg> <span class=date>2019-03-10</span> <span class=name>What are args and kwargs and when to use them</span> </a><li><a class=item href=http://localhost:8000/blog/duck-typing-or-how-to-check-variable-types> <img alt src=/images/joshua-coleman-655076-unsplash_linkedin.width-800.jpg> <span class=date>2019-06-11</span> <span class=name>Duck Typing, or how to check variable types</span> </a><li><a class=item href=http://localhost:8000/blog/monkey-patching-and-its-consequences> <img alt src=/images/aqui_c_monkey_patching_and_its_consequences._F.width-800.png> <span class=date>2019-06-18</span> <span class=name>Monkey Patching and its consequences</span> </a></ul></div><div class=bottom-section><h4>Share your thoughts with us!</h4><div class=comments><script async crossorigin issue-term=pathname label=Comment repo=PFTL/pftl_discussions src=https://utteranc.es/client.js theme=github-light></script></div></div></div><div class=rightside><div class=support-box><h3>Support Us</h3><p>If you like the content of this website, consider buying a copy of the book <strong>Python For The Lab</strong></p><a class=button href=http://localhost:8000/books>Check out the book</a></div><div class=latest-posts><h3>Latest Articles</h3><ul><li><a href=http://localhost:8000/blog/instructions-to-build-the-python-for-the-lab-daq/>Instructions to build the Python for the Lab DAQ.</a> <span>by Aquiles Carattino, 2021-03-27</span><li><a href=http://localhost:8000/blog/using-slots-in-python-limit-dynamic-attribute-creation-and-improve-speed>Using slots in Python: limit dynamic attribute creation and improve speed</a> <span>by Aquiles Carattino, 2021-03-21</span><li><a href=http://localhost:8000/blog/getting-started-with-basler-cameras>Acquiring images from Basler Cameras</a> <span>by Aquiles Carattino, 2021-02-27</span><li><a href=http://localhost:8000/blog/singletons-instantiate-objects-only-once>Singletons: Instantiate objects only once</a> <span>by Aquiles Carattino, 2021-01-16</span><li><a href=http://localhost:8000/blog/differences-between-multiprocessing-windows-and-linux>Differences of Multiprocessing on Windows and Linux</a> <span>by Aquiles Carattino, 2020-06-13</span><li><a href=http://localhost:8000/blog/python-tip-using-else-loops>Python Tip: Using Else with Loops</a> <span>by Aquiles Carattino, 2020-05-25</span><li><a href=http://localhost:8000/blog/python-tip-ready-publish-matplotlib-figures>Python Tip: Ready to Publish Matplotlib Figures</a> <span>by Aquiles Carattino, 2020-05-18</span><li><a href=http://localhost:8000/blog/data-descriptors-bringing-attributes-next-level>Data Descriptors: Bringing Attributes to the Next level</a> <span>by Aquiles Carattino, 2020-05-16</span><li><a href=http://localhost:8000/blog/python-tips-using-sets>Python Tips: Using Sets</a> <span>by Aquiles Carattino, 2020-05-11</span><li><a href=http://localhost:8000/blog/generators-iterables-iterators-python-when-and-where>Generators, Iterables, Iterators in Python: When and Where</a> <span>by Aquiles Carattino, 2020-04-10</span></ul></div><div class=subscribe-fixed><button class=action>Never Stop Learning</button><div class=cnt><p>Join over 1000 Python developers and don't miss any updates!<form action=https://pythonforthelab.us21.list-manage.com/subscribe/post?u=f0d9bfa6188cdcc67890a07f6&id=8a0ca536e8&f_id=00dfebe6f0 class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate><div class=field-wp id=mc_embed_signup><input class="field required email" placeholder="Your E-Mail" id=mce-EMAIL name=EMAIL required type=email></div><div class="clear foot" id=mce-responses><div class=response id=mce-error-response style=display:none></div><div class=response id=mce-success-response style=display:none></div></div><div aria-hidden=true style=position:absolute;left:-5000px>/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */ <input name=b_f0d9bfa6188cdcc67890a07f6_8a0ca536e8 tabindex=-1></div><input value="Subscribe to the Newsletter" class=send-btn id=mc-embedded-subscribe name=subscribe type=submit></form><p>Or check out our <a href=/books>books</a>! <br> <a href=#>Privacy Policy</a></div></div></div></div><div class=mobile-sb-form><div class=sb-form><h4>Get all the information directly to your inbox</h4><form action=https://pythonforthelab.us21.list-manage.com/subscribe/post?u=f0d9bfa6188cdcc67890a07f6&id=8a0ca536e8&f_id=00dfebe6f0 class=validate id=mc-embedded-subscribe-form method=post name=mc-embedded-subscribe-form novalidate><div class=field-wp id=mc_embed_signup><input class="field required email" placeholder="Your E-Mail" id=mce-EMAIL name=EMAIL required type=email></div><div class="clear foot" id=mce-responses><div class=response id=mce-error-response style=display:none></div><div class=response id=mce-success-response style=display:none></div></div><div aria-hidden=true style=position:absolute;left:-5000px>/* real people should not fill this in and expect good things - do not remove this or risk form bot signups */ <input name=b_f0d9bfa6188cdcc67890a07f6_8a0ca536e8 tabindex=-1></div><input value="Subscribe to the Newsletter" class=send-btn id=mc-embedded-subscribe name=subscribe type=submit></form></div></div></div></div></section><div class=footer><div class=container><div class=footer-cnt><p class=left>© Python For The Lab <span class=current-year>2023</span><p class=center><a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ rel=license> <img alt="Creative Commons License" src=https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png style=border:0></a>.<p class=right><a href=http://localhost:8000/cookie-policy>Cookie Policy</a> <a href=http://localhost:8000/privacy-policy>Privacy Policy</a></div></div></div><script src=http://localhost:8000/theme/js/prism.js></script><script src=https://files.stork-search.net/releases/v1.5.0/stork.js></script><script>stork.register("sitesearch","http://localhost:8000/search-index.st")</script>